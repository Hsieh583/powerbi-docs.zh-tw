---
title: "Power BI 中的彙總 (加總、平均、最大值等)"
description: "在 Power BI 中變更圖表的彙總 (加總、平均、最大值等)"
services: powerbi
documentationcenter: 
author: mihart
manager: kfile
backup: 
editor: 
tags: 
qualityfocus: modifying
qualitydate: 
ms.service: powerbi
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: powerbi
ms.date: 09/23/2017
ms.author: mihart
ms.openlocfilehash: 42f9ec1dd56c2317bec07abde9822fc2b5340c07
ms.sourcegitcommit: 99cc3b9cb615c2957dde6ca908a51238f129cebb
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/13/2017
---
# <a name="aggregates-in-power-bi"></a>Power BI 中的彙總
## <a name="what-is-an-aggregate"></a>什麼是彙總？
有時候您會想要以數學方式結合資料行中各資料列的值。 數學運算可能是加總、平均、最大值、計數等等。結合資料行中各資料列的資料值稱之為彙總。 數學運算的結果是「彙總值」。 

例如，數值欄位是可以針對一些類別欄位彙總 (例如加總或平均) 的值。  例如「依產品的銷售金額」和「依區域的瑕疵數目」。 這些通常稱為**量值**。 在 [欄位] 清單中，量值會以 ∑ 符號顯示。 如需詳細資訊，請參閱[報表編輯器導覽](service-the-report-editor-take-a-tour.md)。

有時候「量值」實際上是「導出量值」。 Power BI 的導出量值隨資料匯入 (在以報表為基礎的資料模型中定義)。 每個導出量值都有自己的硬式編碼公式。 您無法變更使用的彙總，例如，如果是總和，就只能加總。 在 [欄位] 清單中，「導出量值」會以計算機符號顯示。 如需如何建立導出量值的詳細資訊，請參閱 [Power BI Desktop 中的量值](desktop-measures.md)。

類別欄位不是數值，但它們仍可彙總。  類別欄位放在「僅限數值」的值區，像是 [值] 或 [工具提示] 時，Power BI 可以計算每個類別的出現次數，或計算每個類別的相異出現次數。  對於字串和日期，Power BI 另外提供了一些彙總選項︰最早、最新、第一個和最後一個。  

## <a name="why-dont-aggregates-work-the-way-i-want-them-to"></a>為什麼彙總運作的方式和我想要的不同？
使用 Power BI 服務中的彙總可能會造成混淆。或許您有數值欄位，但 Power BI 不讓您變更彙總。 或是您有一個欄位，例如年份，您不想彙總它，只想要計算發生次數。

大多數情況下，問題的來源是 Power BI 資料集裡的欄位分類方式。 欄位可能會導致分類為文字，那說明了它為何無法進行加總或平均。 不幸的是，[只有資料集擁有者可以變更欄位的分類方式](desktop-measures.md)。  

為了協助您度過混淆，我們在本文結尾有專門的一節，稱為**秘訣與疑難排解**。  如果您在那裡找不到答案，請在 [Power BI 社群論壇](http://community.powerbi.com)提出您的問題，以便得到直接來自 Power BI 小組的快速回應。

## <a name="change-how-a-numeric-field-is-aggregated"></a>變更數值欄位的彙總方式
假設您有加總不同地區銷售資料的圖表，但您比較想要平均值。 

1. 在報表的 [編輯檢視] 中，將量值新增至視覺效果。
2. 在 [視覺效果] 窗格中找到該欄位並以滑鼠右鍵按一下該欄位，選取您需要的彙總類型。 如果看不到所需的彙總，請連絡資料集擁有者。 可能是擁有者分類欄位的方式有問題。  
   
   ![](media/service-aggregates/aggregate_new.png)
   
   > [!NOTE]
   > 下拉式清單中可用的選項會因 1) 所選取的欄位，以及 2) 資料集擁有者分類欄位的方式而有所不同。
   > 
   > 

彙總欄位可用的某些選項：

* **不加總**。 選擇了此選項，該欄位中的每個值會分開處理且不加總。 如果有不應該加總的數值識別碼資料行，這很常用。
* **加總**。 這會加總該欄位中的所有值。
* **平均**。 求出值的算術平均值。
* **最小值**。 顯示最小的值。
* **最大值**。 顯示最大的值。
* **計數 (沒有空格)。** 這會計算該欄位中不是空白值的數目。
* **計數 (相異)。** 這會計算該欄位中不同值的數目。
* **標準差。**
* **變異數**。
* **中位數**。  顯示中間值。 這是具有相同項目數以上或以下的值。  如果有 2 個中位數，Power BI 會取其平均值。

例如，下列資料：

| 國家/地區 | 數量 |
|:--- |:--- |
| 美國 |100 |
| 英國 |150 |
| 加拿大 |100 |
| 德國 |125 |
| 法國 | |
| 日本 |125 |
| 澳洲 |150 |

會得到下列結果：

* **不加總**：分別顯示每個值
* **加總**：750
* **平均**：125
* **最大值**：150
* **最小值**：100
* **計數 (沒有空格)：** 6
* **計數 (相異)：** 4
* **標準差：** 20.4124145...
* **變異數：** 416.666...
* **中位數：** 125

## <a name="use-a-non-aggregated-field-as-a-numeric-field"></a>非彙總欄位用做為數值欄位
您也可以將非彙總欄位當成數值欄位使用。 例如，如果有 [產品名稱] 欄位，您可以將它加入作為值，再將它設定為 [計數]  或 [相異計數] 。 

1. 例如，如果您選取 [門市] > [連鎖店]。
   
   ![](media/service-aggregates/count-of-chain-do_not_summarize.png)
2. 如果您將彙總從預設的 [不摘要]  變更至 [計數 (相異)] ，Power BI 就會計算不同連鎖店的數目。 在此情況下有 2 間：Fashions Direct 和 Lindseys。
   
   ![](media/service-aggregates/aggregates_count.png)
3. 如果您將彙總變更為 [計數] ，Power BI 就會計算總數。 在此情況下，[連鎖店] 有 104 個項目。 將 [連鎖店]  加入為篩選條件之後，您可以看到 Fashions Direct 有 37 個資料列，而 Lindseys 有 67 個資料列。  
   
   ![](media/service-aggregates/count_of_chain_104.png)

## <a name="tips-and-troubleshooting"></a>提示與疑難排解
問︰為什麼沒有**不摘要**選項？

答︰您所選取的欄位可能是導出量值。 請記得，每個導出量值都有自己的硬式編碼公式。 您無法變更計算。

問︰我的欄位**是**數值，為何我只能選擇 [計數] 和 [相異計數]？

答︰可能的原因為資料集擁有者不小心或故意「不」將該欄位分類為數字。 例如，如果資料集具有 [年] 欄位，資料集擁有者可能會將其分類為文字，因為比較可能會計算 [年] 欄位 (例如在 1974 年出生的人數)，而不是加總或取平均值。 如果您是擁有者，可以在 Power BI Desktop 中開啟資料集，並使用 [模型] 索引標籤來變更資料類型。  

答︰另一個可能的原因是，您將欄位放到了只允許類別值的「值區」。  在此情況下，您只能選擇計數與相異計數。

答︰第三個可能的原因是，您使用欄位作為座標軸。 例如，在橫條圖的軸上，Power BI 會針對每個相異值顯示一個橫條，它完全不會彙總欄位值。 注意︰此規則的例外狀況是散佈圖，它「需要」彙總 X 軸和 Y 軸的值。

問︰我有散佈圖，而且我希望我的欄位「不要」彙總。  要怎麼做？

答︰將欄位新增至 [詳細資料] 值區，而不是 X 或 Y 軸的值區。

問︰當我新增數值欄位至視覺效果時，它們大部分都預設為加總，但有些預設為平均或計數或其他彙總。  為什麼預設彙總不一律相同？

答︰資料集擁有者可以選擇設定每個欄位的預設摘要。 如果您是資料集擁有者，請變更 Power BI Desktop [模型] 索引標籤中的預設摘要。

問︰我的欄位**是**數字，為什麼我在下拉式清單中沒有任何彙總選項？

答︰如果欄位有計算機圖示，這表示它是「導出量值」，而每個導出量值都有它自己的硬式編碼公式，在 Power BI 服務中無法變更。 正在使用的計算可能是簡單的彙總，例如平均或加總，但它也可能更複雜，例如「在父類別所佔比重的百分比」或「自年初起的計算加總」。 Power BI 並不會將結果加總或平均，但會改為針對每個資料點重新計算 (使用硬式編碼的公式)。

問︰我是資料集擁有者，我想確定欄位永遠不會進行彙總。

答：在 Power BI Desktop 中，請在 [模型] 索引標籤上，將 [資料類型] 設為 [文字]。

問︰我在我的下拉式清單中看不見 [不摘要] 的選項。

答︰請嘗試移除欄位，並將其新增回去。

有其他問題嗎？ [試試 Power BI 社群](http://community.powerbi.com/)

